(()=>{"use strict";var e={cardTemplate:document.querySelector("#card-template").content,placesList:document.querySelector(".places__list"),editButton:document.querySelector(".profile__edit-button"),addButton:document.querySelector(".profile__add-button"),editPopup:document.querySelector(".popup_type_edit"),addPopup:document.querySelector(".popup_type_new-card"),imagePopup:document.querySelector(".popup_type_image"),editForm:document.querySelector('form[name="edit-profile"]'),addForm:document.querySelector('form[name="new-place"]'),profileTitle:document.querySelector(".profile__title"),profileDescription:document.querySelector(".profile__description"),editNameInput:document.querySelector(".popup__input_type_name"),editJobInput:document.querySelector(".popup__input_type_description"),popupImage:document.querySelector(".popup__image"),popupCaption:document.querySelector(".popup__caption"),addCardNameInput:document.querySelector(".popup__input_type_card-name"),addCardUrlInput:document.querySelector(".popup__input_type_url")};function t(e){var t=e.querySelector(".popup__close");function n(){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",o)}function o(e){"Escape"===e.key&&n()}return e.addEventListener("click",(function(t){t.target===e&&n()})),t.addEventListener("click",n),{openModal:function(){e.classList.add("popup_is-opened"),document.addEventListener("keydown",o)},closeModal:n}}function n(t,n){var o=e.cardTemplate.querySelector(".card").cloneNode(!0),r=o.querySelector(".card__image"),p=o.querySelector(".card__title"),d=o.querySelector(".card__like-button"),a=o.querySelector(".card__delete-button");return r.src=t.link,r.alt=t.name,p.textContent=t.name,d.addEventListener("click",(function(){d.classList.toggle("card__like-button_is-active")})),a.addEventListener("click",(function(){o.remove()})),r.addEventListener("click",(function(){return n(t)})),o}var o=[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],r=t(e.editPopup),p=r.openModal,d=r.closeModal,a=t(e.addPopup),c=a.openModal,u=a.closeModal,i=t(e.imagePopup).openModal;function l(t){e.popupImage.src=t.link,e.popupImage.alt=t.name,e.popupCaption.textContent=t.name,i()}e.editButton.addEventListener("click",(function(){e.editNameInput.value=e.profileTitle.textContent,e.editJobInput.value=e.profileDescription.textContent,p()})),e.addButton.addEventListener("click",c),function(t){o.forEach((function(o){var r=n(o,t);e.placesList.append(r)}))}(l),e.editForm.addEventListener("submit",(function(t){t.preventDefault(),e.profileTitle.textContent=e.editNameInput.value,e.profileDescription.textContent=e.editJobInput.value,d()})),e.addForm.addEventListener("submit",(function(t){t.preventDefault();var o=n({name:e.addCardNameInput.value,link:e.addCardUrlInput.value},l);e.placesList.prepend(o),e.addForm.reset(),u()}))})();